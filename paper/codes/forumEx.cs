public App()
{
	this.InitializeComponent();
	this.VM = new ViewModel();
}

protected async override void OnLaunched(LaunchActivatedEventArgs args)
{
	Frame appFrame = new Frame();
	SuspensionManager.RegisterFrame(appFrame, "AppFrame");
	appFrame.Navigate(typeof(CategoriesPage), this.VM);

	Window.Current.Content = appFrame;
	Window.Current.Activate();
}

public ViewModel()
{
	this.InitializeData();
}

private async void InitializeData()
{
	this.InvFileName = "NVIN_Home.xml";
	await this.DeserializeDataSetAsync();
}

private async Task DeserializeDataSetAsync()
{
	StorageFolder storageFolder = ApplicationData.Current.LocalFolder;
	var dcs = new DataContractSerializer(typeof(ObservableCollection<Category>));
	using (var stream1 = await storageFolder.OpenStreamForReadAsync(this.InvFileName))
		this.Categories = (ObservableCollection<Category>)dcs.ReadObject(stream1);
}

//Categoriespage code
//When we arrive here, this.VM.Categories may be null
protected override async void LoadState(Object navigationParameter, 
	Dictionary<String, Object> pageState)
{
	this.VM = navigationParameter as ViewModel;
	this.itemsViewSource.Source = this.VM.Categories;
}
